import"./modulepreload-polyfill-ec808ebb.js";/* empty css               */const i=new WebSocket("ws://localhost:5000"),c=function(e){i.readyState?i.send(e):setTimeout(function(){c(e)},100)};function l(e){console.log(e);const t=document.getElementById("rooms");t.replaceChildren();for(const{name:s,id:o}of e){console.log(s);const n=document.createElement("button");n.textContent="Join",n.className="btn-join",n.id=o;const m=document.cookie.split("=")[1];n.onclick=()=>{c(`join_${m}|${o}`),window.location.href="game/"};const a=document.createElement("div");a.textContent=s,a.className="one-room",t.appendChild(a),t.appendChild(n)}}onload=function(){const e=document.cookie.split("=")[1];c(`setClient_${e}`);const t=document.getElementById("btn-create-room");t.onclick=()=>{const s=document.getElementById("room-name").value;document.getElementById("room-name").value="";var o=new XMLHttpRequest;o.open("POST","http://localhost:3000/room/create",!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify({roomName:s,userId:e})),o.onload=()=>{if(o.status!=200)alert(`Ошибка ${o.status}: ${o.statusText}`);else{const n=o.responseText;c(`join_${e}|${n}`),window.location.href="game/"}}},c("getRooms")};i.onmessage=e=>{const t=JSON.parse(e.data),s=t.data;switch(t.type){case"roomsNames":{l(s);break}}};
